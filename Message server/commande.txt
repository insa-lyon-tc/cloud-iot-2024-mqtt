#record the audio file
sudo arecord -D plughw:1,0 -f cd ~/test.wav
##entrer ctrl+c to stop

#To show all available controls of sound card by alsamixer
sudo amixer -Dhw:1 controls 
#Recording while displaying level fluctuations
 sudo arecord -Dhw:1,0 -f cd -vv test.wav  



#play the audio file
sudo aplay -D plughw:1,0 ~/test.wav

#check sound card work well
sudo aplay -l

#check the audio file trully record the sound by scp
 scp <device_name>:<path_audiofile> <path_repo_for_save>
 scp device:/home/xliu/test1.wav C:\Users\jeanneLiu\Desktop\CIT

#check the file size
ls -lh
â€¦@raspberry-3B-1-6:~ $ ls -lh
total 824K
-rw-r--r-- 1 xliu xliu 819K Oct 22 08:33 received_audio.mp3
-rw-r--r-- 1 root root  828 Oct 22 08:28 subscriber.py

#preparation install
sudo apt install mosquitto mosquitto-clients
sudo apt install python3-pip
sudo pip install paho-mqtt
python3 subscriber.py

#Configuration Mosquito
sudo nano /etc/mosquitto/mosquitto.conf

listener 1883
allow_anonymous true //ligne to add

#Start Mosquitto
Sudo systemctl start mosquitto
Sudo systemctl enable mosquitto
Sudo systemctl restart mosquitto  //after we modify the .conf file
